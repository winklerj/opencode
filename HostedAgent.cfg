\* TLC Configuration for HostedAgent.tla
\* Run with: tlc HostedAgent.tla -config HostedAgent.cfg

SPECIFICATION Spec

\* Constants - keep small for model checking
CONSTANTS
    Users = {u1, u2, u3}
    Repositories = {repo1, repo2}
    MaxSandboxes = 5
    MaxPrompts = 3
    MaxBackgroundAgents = 3

\* Safety invariants to check
INVARIANTS
    TypeInvariant
    NoWritesBeforeSync
    OnePromptExecutingPerSession
    SingleEditLockHolder
    WarmPoolSandboxesReady
    ValidAgentStatusTransitions
    ValidSessionUsers
    ValidSnapshotReferences
    ValidClientTypes
    SessionSnapshotConsistency

\* Liveness properties to check
PROPERTIES
    GitSyncEventuallyCompletes
    QueuedPromptsEventuallyExecute
    AgentsEventuallyTerminate

\* Symmetry optimization
SYMMETRY Users, Repositories
